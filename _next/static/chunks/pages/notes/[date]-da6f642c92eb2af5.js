(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{1420:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes/[date]",function(){return r(4104)}])},4104:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__N_SSG:()=>f,default:()=>w});var s=r(7876),a=r(4232),l=r(9099),n=r(7328),i=r.n(n),d=r(838),c=r(3949),o=r(7929),u=r(3909),g=r(5368),h=r(4842),m=r(8233),x=r(9261),f=!0;function w(e){let{date:t}=e,r=(0,l.useRouter)(),{notes:n,isLoaded:f}=(0,g.A)(),[w,v]=(0,a.useState)(!0),[y,b]=(0,a.useState)(null),[j,p]=(0,a.useState)(-1),[N,k]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(f&&t&&n.length>0){let e=n.findIndex(e=>(0,u.GP)(new Date(e.date),"yyyy-MM-dd")===t);e>=0?(b(n[e]),p(e)):r.push("/"),v(!1)}else f&&0===n.length&&(r.push("/"),v(!1))},[t,f,n,r]),(0,a.useEffect)(()=>{if(k(null),!(null==y?void 0:y.imageUrl)){k(void 0);return}let e=(0,m.$R)();if(!e){k(void 0);return}let t=!1,r=e=>{var t;switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"png":return"image/png";case"gif":return"image/gif";case"svg":return"image/svg+xml";case"webp":return"image/webp";case"avif":return"image/avif";case"bmp":return"image/bmp";default:return"image/jpeg"}};return(0,x.kw)(y.imageUrl).then(t=>t?(0,x.VI)(t,e):null).then(e=>{t||k(e&&y.imageUrl?"data:".concat(r(y.imageUrl),";base64,").concat(e):void 0)}).catch(e=>{console.error("Failed to load note image:",e),t||k(void 0)}),()=>{t=!0}},[null==y?void 0:y.imageUrl]);let _=()=>{if(n.length<=1)return;let e=(j+1)%n.length,t=n[e],s=(0,u.GP)(new Date(t.date),"yyyy-MM-dd");r.push("/notes/".concat(s))},E=()=>{if(n.length<=1)return;let e=(j-1+n.length)%n.length,t=n[e],s=(0,u.GP)(new Date(t.date),"yyyy-MM-dd");r.push("/notes/".concat(s))};if((0,a.useEffect)(()=>{let e=e=>{"ArrowLeft"===e.key?E():"ArrowRight"===e.key&&_()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[E,_]),w)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:(0,s.jsx)("p",{children:"Wird geladen..."})});if(!y)return r.push("/"),null;let L=e=>new Date(e).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{children:(0,s.jsxs)("title",{children:[L(y.date)," | Lofs"]})}),(0,s.jsx)(h.A,{headerButton:{label:"Zum Kalender",onClick:()=>{r.push("/")},variant:"ghost"},backgroundImage:N,children:(0,s.jsxs)("div",{className:"m-6 lg:m-12 flex flex-col items-center justify-between flex-grow w-full max-w-sm md:max-w-none gap-6 md:items-center md:flex-row",children:[(0,s.jsx)(d.Z,{isBlurred:!0,fullWidth:!0,className:"backdrop-blur-sm bg-background/50 md:self-start",children:(0,s.jsxs)(c.U,{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 lg:mb-6 text-center text-gray-800 dark:text-gray-100",children:L(y.date)}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)("p",{className:"whitespace-pre-line text-lg text-gray-800 dark:text-gray-100",children:y.text})}),(0,s.jsx)("div",{className:"mt-1 text-right text-xs text-gray-600 dark:text-gray-400",children:n.length>1&&(0,s.jsxs)("span",{children:[j+1," von ",n.length]})})]})}),(0,s.jsxs)("div",{className:"w-full flex flex-row items-center justify-between md:contents",children:[(0,s.jsx)(o.T,{onPress:E,isDisabled:n.length<=1,"aria-label":"Vorherige Notiz",variant:"faded",color:"danger",className:"rounded-full md:order-first",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)(o.T,{onPress:_,isDisabled:n.length<=1,"aria-label":"N\xe4chste Notiz",variant:"faded",color:"danger",className:"rounded-full md:order-last",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})]})}},4842:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(7876),a=r(7929);function l(e){let{children:t,title:r="Nathalie's Lofs",headerButton:l,backgroundImage:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col min-h-dvh bg-gray-100 dark:bg-gray-900",children:[(0,s.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow py-3 sm:py-4 z-10",children:(0,s.jsxs)("div",{className:"container mx-auto px-3 sm:px-4 flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 truncate",children:r}),l&&(0,s.jsx)(a.T,{variant:l.variant||"ghost",onPress:l.onClick,className:"text-sm sm:text-base whitespace-nowrap ".concat(l.className||""),size:"sm",children:l.label})]})}),(0,s.jsxs)("main",{className:"flex-1 flex flex-col relative",children:[n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:n,alt:"Hintergrundbild Backdrop",className:"w-full h-full object-cover absolute inset-0 opacity-75 overflow-hidden blur-lg"}),(0,s.jsx)("img",{src:n,alt:"Hintergrundbild",className:"w-full h-full object-contain absolute inset-0 overflow-hidden"})]}),null===n&&(0,s.jsx)("div",{className:"w-full h-full absolute inset-0 flex items-center justify-center bg-gray-200 dark:bg-gray-700",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-600 dark:border-gray-300"})}),(0,s.jsx)("div",{className:"relative z-10 flex flex-1 justify-center",children:t})]}),(0,s.jsx)("footer",{className:"bg-white dark:bg-gray-800 py-3 sm:py-4 shadow-inner relative z-10",children:(0,s.jsx)("div",{className:"container mx-auto px-3 sm:px-4 text-center",children:(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"F\xfcr dich jeden Tag."})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[929,220,636,593,792],()=>t(1420)),_N_E=e.O()}]);