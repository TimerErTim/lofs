(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{7984:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(9801)}])},9801:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(7876),n=s(4232),a=s(9099),i=s(7328),l=s.n(i),d=s(7128),c=s(7929),o=s(8233),u=s(5368),m=s(8807);function h(){let e=(0,a.useRouter)(),{referrer:t}=e.query,[s,i]=(0,n.useState)(""),[h,x]=(0,n.useState)(""),[g,f]=(0,n.useState)(!1),{encryptedNotes:p,progress:w}=(0,m.Z)(),y=(0,u.A)(e=>e.storeEncryptedNotes);(0,n.useEffect)(()=>{(async()=>{if(await (0,o.wR)()){let s=t&&"string"==typeof t?t:"/";e.push(s)}})()},[e,t]);let b=async r=>{if(r.preventDefault(),!p){x("Encrypted data not yet loaded. Please wait.");return}f(!0),x(""),await new Promise(e=>setTimeout(e,10));try{await y(p,s)?((0,o.Hu)(s),t&&"string"==typeof t?e.push(t):e.push("/")):x("Ung\xfcltiges Passwort")}catch(e){console.error("Decryption error:",e),x("Entschl\xfcsselung fehlgeschlagen")}finally{f(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Login | Lofs"})}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 px-4 sm:px-6",children:(0,r.jsxs)("div",{className:"w-full max-w-md p-6 sm:p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-center text-gray-800 dark:text-gray-100",children:"Login"}),(0,r.jsxs)("form",{onSubmit:b,children:[(0,r.jsxs)("div",{className:"mb-4 sm:mb-6",children:[h&&(0,r.jsx)("div",{className:"mb-3 sm:mb-4 text-red-600 dark:text-red-400 text-xs sm:text-sm text-center font-medium",children:h}),(0,r.jsx)(d.r,{type:"password",value:s,onChange:e=>i(e.target.value),placeholder:"Passwort eingeben",isRequired:!0,fullWidth:!0,autoFocus:!0})]}),(0,r.jsx)(c.T,{type:"submit",isLoading:g,fullWidth:!0,children:"Anmelden"})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[929,128,636,593,792],()=>t(7984)),_N_E=e.O()}]);